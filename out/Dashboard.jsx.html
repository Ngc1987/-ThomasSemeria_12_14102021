<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Dashboard.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Dashboard.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// import React, {useState, useEffect } from 'react'
import "./Dashboard.scss"
import ActivityChart from "../../Components/Charts/BarChart/ActivityChart"
import SessionChart from '../../Components/Charts/LineChart/SessionChart'
import PerformancesChart from '../../Components/Charts/RadarChart/PerformancesChart'
import ScoreChart from '../../Components/Charts/CircleChart/ScoreChart'
import Nutriment from '../../Components/Nutriment/Nutriment'
import { getUserDatas } from "../../CallsApis/requests";
import {useState, useEffect} from 'react'
import Loader from "../../Components/Loader/Loader"
import Error from "../Error/Error"
import User from "../../Models/User"



/** 
 * @description 
 * This is component for Dashboard page
 * - It handles 3 states (user => datas of the user, loader => if true, Loader component is rendered, 
 *   error => if true, Error component is rendered)
 * @returns If loader and error are false, the Dashboard is rendered, with first name, nutriments and some charts with fetched informations of the user
 */
export default function Dashboard() {

	const [user, setUserAllDatas] = useState({})
	const [isLoaded, setIsLoaded] = useState(false)
	const [error, setError] = useState(null)
	// User Id, taking from the url
	const userId = window.location.pathname.split("/")[2];
	
	useEffect(() => {
		getUserDatas(userId)
			.then((result) => {
				let user = new User(result[0], result[1], result[2], result[3])
				setUserAllDatas(user)
				setIsLoaded(true)
			})
			.catch(err => {
				setError(true)
				setIsLoaded(true)
			})
		}, [userId])

	if(error) {
		return (
		&lt;Error type="fetchError"/>
		)
	}
	if(!isLoaded) {
		return (&lt;Loader />)
	}

	return (
		&lt;>
			&lt;section className="dashboard">

				&lt;h2>Bonjour &lt;em>{user.getFirstName()}&lt;/em>&lt;/h2>
				&lt;p className="dashboard-text">FÃ©licitations ! Vous avez explosÃ© vos objectifs hier ðŸ‘&lt;/p>
		
				&lt;section className="dashboard__graphs">

					&lt;div className="dashboard__graphs__charts">

						&lt;ActivityChart data={user.activities} />

						&lt;div className="dashboard__graphs__charts-smalls">
							&lt;SessionChart data={user.sessions} />
							&lt;PerformancesChart data={user.performances} />
							&lt;ScoreChart data={user.infos}/>
						&lt;/div>

					&lt;/div>
				
				&lt;div className="dashboard__graphs__nutriments">
					&lt;Nutriment quantity={user.getNutriment("calorieCount")} nutriment="Calories" /> 
					&lt;Nutriment quantity={user.getNutriment("proteinCount")} nutriment="ProtÃ©ines" />
					&lt;Nutriment quantity={user.getNutriment("carbohydrateCount")} nutriment="Glucides" />
					&lt;Nutriment quantity={user.getNutriment("lipidCount")} nutriment="Lipides" />
				&lt;/div> 
				
				&lt;/section>

			&lt;/section>
		&lt;/>
	)
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Nov 30 2021 16:10:38 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
